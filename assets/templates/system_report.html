{% extends "base.html" %}

{% block content %}
<!-- System Status -->
<div style="margin-bottom: 24px;">
    <h2 style="font-size: 18px; font-weight: 600; margin: 0 0 4px 0; color: #1e293b;">System Health Dashboard</h2>
    <p style="font-size: 13px; color: #64748b; margin: 0;">Generated at {{ now }}</p>
</div>

<!-- OCI Section -->
<div class="card" style="border-left: 4px solid #3b82f6;">
    <div class="card-title" style="color: #3b82f6;">üñ•Ô∏è OCI Main Server</div>
    <div class="stat-row">
        <span class="stat-label">Uptime</span>
        <span class="stat-value">{{ oci.uptime }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">CPU Load</span>
        <span class="stat-value">{{ oci.load }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Memory</span>
        <span class="stat-value">{{ oci.mem }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Storage</span>
        <span class="stat-value">{{ oci.disk }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Docker</span>
        <span class="stat-value">{{ oci.docker }}</span>
    </div>
</div>

<!-- Pi-hole Section -->
<div class="card" style="border-left: 4px solid #22c55e;">
    <div class="card-title" style="color: #22c55e;">üõ°Ô∏è Pi-hole Security</div>
    <div class="stat-row">
        <span class="stat-label">Total Queries</span>
        <span class="stat-value">{{ pihole.total_queries }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Blocked</span>
        <span class="stat-value">{{ pihole.ads_blocked }} ({{ pihole.percent_blocked }})</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Top Client</span>
        <span class="stat-value">{{ pihole.top_clients }}</span>
    </div>
</div>

<!-- Lappy Section -->
<div class="card" style="border-left: 4px solid #a855f7;">
    <div class="card-title" style="color: #a855f7;">üíª Lappy Node</div>
    <div class="stat-row">
        <span class="stat-label">Status</span>
        <span class="stat-value" style="{{ 'color: #22c55e;' if lappy.status == 'Connected' else 'color: #ef4444;' }}">{{ lappy.status }}</span>
    </div>
    {% if lappy.status == 'Connected' %}
    <div class="stat-row">
        <span class="stat-label">Uptime</span>
        <span class="stat-value">{{ lappy.uptime }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Load</span>
        <span class="stat-value">{{ lappy.load }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Memory</span>
        <span class="stat-value">{{ lappy.mem }}</span>
    </div>
    <div class="stat-row">
        <span class="stat-label">Storage</span>
        <span class="stat-value">{{ lappy.disk }}</span>
    </div>
    {% endif %}
</div>
{% endblock %}
